# ê°œë°œ íˆìŠ¤í† ë¦¬ (Dev History)

## 2026-01-03

### LLM Provider ì¶”ìƒí™” ë° ìš´ìš© í•©ì˜
- LLM Provider ì¶”ìƒí™”ë¡œ Ollama/LM Studio êµì²´ë¥¼ ì•ë‹¨ì—ì„œë§Œ ì²˜ë¦¬.
- ì‹¤í–‰ í”„ë¡œíŒŒì¼ ë°©ì‹ ì±„íƒ: `backend/.env.ollama`, `backend/.env.lmstudio` + `scripts/run_backend.ps1`.
- ë³€ìˆ˜ ì²´ê³„ ì •ë¦¬: `LLM_*`ë¡œ í†µì¼ (ê¸°ì¡´ `OLLAMA_*` ì œê±°).
- `/status` ì‘ë‹µì—ì„œ `llm_*` í•„ë“œ ì‚¬ìš©.

### ëª¨ë¸ êµ¬ì„± ê²°ë¡  (í’ˆì§ˆ ìµœìš°ì„ , ì§€ì—° ê°ìˆ˜)
- ë„êµ¬ í˜¸ì¶œì€ `gemma3-tools` ê³„ì—´ ì‚¬ìš© (íˆ´ ë¯¸ì§€ì› ëª¨ë¸ ì œì™¸).
- Plannerë„ êµ¬ì¡°í™” ì¶œë ¥ ì•ˆì •ì„± ìœ„í•´ `gemma3-tools` ì‚¬ìš©.
- ExecutorëŠ” ë°˜ë“œì‹œ `gemma3-tools`.
- RouterëŠ” ë¶„ë¦¬ ê°€ëŠ¥ (ì¶”í›„ `LLM_MODEL_ROUTER` ì¶”ê°€ í•„ìš”).

#### ê¶Œì¥ ëª¨ë¸ ì˜ˆì‹œ
```text
LLM_MODEL=gemma3-tools:27b
LLM_MODEL_PLANNER=gemma3-tools:27b
LLM_MODEL_EXECUTOR=gemma3-tools:27b
LLM_EMBEDDING_MODEL=nomic-embed-text
```

## 2026-01-07

### ëª¨ë¸ êµ¬ì„± ì—…ë°ì´íŠ¸ (v1.1.0)
- **ëª©ì **: Ollama ì„œë²„ì˜ ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ì— ë§ì¶° ë¬¸ì„œ ë° ê¸°ë³¸ ì„¤ì • ë™ê¸°í™”
- **ì‚¬ìš© ê°€ëŠ¥ ëª¨ë¸** (ì‚¬ìš©ì Ollama ì„œë²„):
  - `llama3.1:8b` (4.9 GB)
  - `llama2:13b` (7.4 GB)
  - `nomic-embed-text:latest` (274 MB)

### ë³€ê²½ ì‚¬í•­
- `backend/app/core/settings.py`: ê¸°ë³¸ ëª¨ë¸ì„ `gemma3:27b` â†’ `llama3.1:8b`ë¡œ ë³€ê²½
- `README.md`: 
  - ì•„í‚¤í…ì²˜ë¥¼ ì„œë²„ ì „ìš© ëª¨ë¸ë¡œ ë‹¨ìˆœí™” (FunctionGemma ì˜¨ë””ë°”ì´ìŠ¤ ì°¸ì¡° ì œê±°)
  - ëª¨ë¸ ì„¤ì • ì˜ˆì‹œ ì—…ë°ì´íŠ¸
- `docs/roadmap_and_model_evaluation.md`: Phase 7 ì™„ë£Œ ì²˜ë¦¬
- í”„ë¡œì íŠ¸ ì´ë¦„: "FunctionGemma Agent" â†’ "AI Assistant Agent"
- ë²„ì „: `1.0.0` â†’ `1.1.0 (Stable)`

### ì‹±ê¸€ ëª¨ë¸ ì•„í‚¤í…ì²˜ ì „í™˜ ë° ìµœì í™” (v1.2.0-debug)
- **ëª©ì **: `gpt-oss:20b` ê³ ì„±ëŠ¥ ë‹¨ì¼ ëª¨ë¸ ì²´ì œë¡œ ì „í™˜í•˜ì—¬ ì¶”ë¡  í’ˆì§ˆ ë° ë¬¸ë§¥ ìœ ì§€ë ¥ ê·¹ëŒ€í™”
- **ì‚¬ìš© ëª¨ë¸**: `gpt-oss:20b` (Planner, Executor, Router í†µí•©)
- **ì£¼ìš” ë³€ê²½ ì‚¬í•­**:
  - **Manual JSON Parsing**: OSS ëª¨ë¸ì˜ `with_structured_output` ë¶ˆì•ˆì •ì„±ì„ ê·¹ë³µí•˜ê¸° ìœ„í•´ ëª¨ë“  ë…¸ë“œë¥¼ `extract_json` ë° Pydantic íŒŒì„œ ê¸°ë°˜ì˜ ìˆ˜ë™ íŒŒì‹± ë¡œì§ìœ¼ë¡œ ì „í™˜.
  - **Few-Shot í”„ë¡¬í”„íŒ…**: Executor ë…¸ë“œì— êµ¬ì²´ì ì¸ ë„êµ¬ í˜¸ì¶œ ì˜ˆì‹œë¥¼ ì¶”ê°€í•˜ì—¬ 20B ëª¨ë¸ì˜ ì˜ë„ íŒŒì•… ì •í™•ë„ í–¥ìƒ.
  - **ì¸ì¦ ê°±ì‹ **: ë§Œë£Œëœ Google OAuth í† í°ì„ `reauth.py`ë¥¼ í†µí•´ ì„±ê³µì ìœ¼ë¡œ ê°±ì‹ .
  - **ê°€ë“œë ˆì¼ ë³´ê°•**: `executor_node`ì—ì„œ `None` íƒ€ì… ìº˜ë¦°ë” ID ì…ë ¥ ì‹œ ë°œìƒí•˜ëŠ” ëŸ°íƒ€ì„ ì˜¤ë¥˜ ë°©ì§€ ë¡œì§ ì¶”ê°€.
- **ê²€ì¦**: `scripts/test_single_model.py`ë¥¼ í†µí•´ ë‹¤íšŒì°¨ ëŒ€í™” ê°„ ë°ì´í„° ì˜ì†ì„± ë° ë„êµ¬ í˜¸ì¶œ ì •ìƒ ë™ì‘ í™•ì¸.

### ì¼ì • í•„í„°ë§ ë° ì•„í‚¤í…ì²˜ ê³ ë„í™” (v1.3.0)
- **ëª©ì **: ë¶ˆí•„ìš”í•˜ê²Œ ë„“ì€ ë²”ìœ„ì˜ ì¼ì •ì´ ë…¸ì¶œë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ë‚ ì§œ ê³„ì‚°ì˜ ì •í™•ë„ë¥¼ ê·¹ëŒ€í™”.
- **ì£¼ìš” ë³€ê²½ ì‚¬í•­**:
  - **ë„êµ¬ í†µí•© (`list_events`)**: `list_today`, `list_upcoming`, `list_on_date` ë“±ì„ í•˜ë‚˜ì˜ ê°•ë ¥í•œ `list_events` ë„êµ¬ë¡œ í†µí•©í•˜ì—¬ ëª¨ë¸ì˜ ë„êµ¬ ì„ íƒ ê´€ì„±(Inertia)ì„ ì œê±°.
  - **ë„êµ¬ ë‚´ë¶€ í•„í„°ë§ ê°•í™”**: `start_date`, `end_date`ë¥¼ í•„ìˆ˜ ì¸ìê¸‰ìœ¼ë¡œ íŒŒì•…í•˜ë„ë¡ ìœ ë„í•˜ê³ , ë„êµ¬ ë¡œì§ ë‚´ì—ì„œ í•´ë‹¹ ê¸°ê°„ë§Œ ì—„ê²©íˆ í•„í„°ë§í•˜ë„ë¡ ìˆ˜ì •.
  - **Unified Planner Flow**: Routerì˜ `simple` ëª¨ë“œ(Executor ì§í–‰)ë¥¼ ì œê±°í•˜ê³  ëª¨ë“  ì•¡ì…˜ ì¿¼ë¦¬ê°€ Plannerë¥¼ ê±°ì¹˜ë„ë¡ í†µí•©. ì´ë¥¼ í†µí•´ Plannerì˜ "Temporal Reasoning"ì´ ëª¨ë“  ìš”ì²­ì— ì ìš©ë¨.
  - **Dynamic Date Reference**: Executor í”„ë¡¬í”„íŠ¸ì— íŒŒì´ì¬ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì‚°í•œ ì˜¤ëŠ˜/ë‚´ì¼/2ì¼ ë’¤ ë‚ ì§œë¥¼ ì§ì ‘ ì£¼ì…í•˜ì—¬ ëª¨ë¸ì˜ ê³„ì‚° ì˜¤ë¥˜ ì›ì²œ ì°¨ë‹¨.
  - **Sequential Test Methodology**: `test_questions.md`ë¥¼ ê·¸ë£¹ ì¿¼ë¦¬ì—ì„œ 'ì¼ì • ì¶”ê°€ ë° ì‚­ì œ'ë¥¼ ìº˜ë¦°ë”ë³„ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê°œë³„ ì¿¼ë¦¬ ì‹œë‚˜ë¦¬ì˜¤ë¡œ ë³€ê²½. ì´ë¥¼ í†µí•´ ë³µì¡í•œ JSON íŒŒì‹± ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”í•˜ê³  ëŒ€í™” ë¬¸ë§¥(Context) ìœ ì§€ë ¥ì„ ë³´ë‹¤ ì—„ê²©íˆ ê²€ì¦í•¨.
- **íš¨ê³¼**: "ë‚´ì¼ ì¼ì • ì•Œë ¤ì¤˜" ìš”ì²­ ì‹œ ì •í™•íˆ ë‚´ì¼ í•˜ë£¨ì¹˜ ì¼ì •ë§Œ ì¶œë ¥ë˜ë©°, ë‹¤ìˆ˜ì˜ íŠ¹ì • ìº˜ë¦°ë”ë¥¼ ê°œë³„ì ìœ¼ë¡œ ì§€ì •í•œ ë“±ë¡/ì‚­ì œ ì‘ì—…ì´ ë¬¸ë§¥ ì†ì‹¤ ì—†ì´ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜í–‰ë¨ì„ í™•ì¸.

### ê¶Œì¥ ì„¤ì • (Current)
```text
LLM_MODEL=gpt-oss:20b
LLM_MODEL_PLANNER=gpt-oss:20b
LLM_MODEL_EXECUTOR=gpt-oss:20b
LLM_EMBEDDING_MODEL=nomic-embed-text
```

### ì—ëŸ¬ í•¸ë“¤ë§ ë° UX ê°œì„  (v1.3.1-fix)
- **ëª©ì **: ê°„í—ì ì¸ LLM ì‘ë‹µ ì˜¤ë¥˜ë¡œ ì¸í•œ ì„œë²„ í¬ë˜ì‹œ ë°©ì§€ ë° ì‚¬ìš©ì ê²½í—˜ ê°œì„ .
- **ì£¼ìš” ë³€ê²½ ì‚¬í•­**:
  - **Robust JSON Handling**: `extract_json` ê²°ê³¼ê°€ ë¹ˆ ë¬¸ìì—´ì¼ ê²½ìš° Pydantic ê²€ì¦ ë¡œì§ ì§„ì… ì „ ì¦‰ì‹œ `ValueError`ë¥¼ ë°œìƒì‹œì¼œ ë¶ˆí•„ìš”í•œ ì¬ì‹œë„ ë° í• ë£¨ì‹œë„¤ì´ì…˜(ì˜ˆ: `{"error": "No raw text..."}`) ë°©ì§€.
  - **User-Friendly Error Messages**: ë‚´ë¶€ ì˜¤ë¥˜ ë°œìƒ ì‹œ ê¸°ìˆ ì ì¸ ë¡œê·¸ëŠ” ì„œë²„ì—ë§Œ ë‚¨ê¸°ê³ , ì‚¬ìš©ìì—ê²ŒëŠ” "ì£„ì†¡í•©ë‹ˆë‹¤. ì¼ì‹œì ì¸ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”."ë¼ëŠ” ì¹œì ˆí•œ ì•ˆë‚´ ë©”ì‹œì§€ ì¶œë ¥.
- **ê²€ì¦**: `scripts/verify_fix.py`ë¥¼ í†µí•´ ë¹ˆ ì‘ë‹µ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì•ˆì •ì ìœ¼ë¡œ ì¹œì ˆí•œ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ë°˜í™˜ë¨ì„ í™•ì¸.

## 2026-01-08

### ì§€ì—° ì‹œê°„ ìµœì í™” (v1.3.2)
- **ëª©ì **: ê±°ëŒ€ ëª¨ë¸(20B) ë¡œë“œ ì§€ì—°ìœ¼ë¡œ ì¸í•œ 10ë¶„ ì´ìƒì˜ ì‘ë‹µ ëŒ€ê¸° ë¬¸ì œ í•´ê²°.
- **ì£¼ìš” ë³€ê²½ ì‚¬í•­**:
  - **LLM_KEEP_ALIVE ìµœì í™”**: ê¸°ì¡´ `0`ì—ì„œ `5m`(5ë¶„)ìœ¼ë¡œ ë³€ê²½. ì´ë¥¼ í†µí•´ Router, Planner, Executor ê° ë‹¨ê³„ë§ˆë‹¤ ëª¨ë¸ì„ ìƒˆë¡œ ë¡œë“œí•˜ëŠ” ë¹„ìš©ì„ ì œê±°í•˜ê³  VRAMì— ìƒì£¼ì‹œì¼œ ì—°ì† ì‘ë‹µ ì†ë„ë¥¼ ìˆ˜ ì´ˆ ë‚´ë¡œ ë‹¨ì¶•.
  - **LLM_MODEL_ROUTER ë„ì…**: Router ë…¸ë“œ ì „ìš© ëª¨ë¸ ì„¤ì •ì„ ì¶”ê°€í•˜ì—¬ ê´€ë¦¬ íš¨ìœ¨ì„± í–¥ìƒ.

### RAG ì‹œìŠ¤í…œ ë³µêµ¬ ë° ìƒ‰ì¸ ìë™í™”
- **ëª©ì **: ì—¬í–‰ ê´€ë ¨ ì§ˆì˜ ì‹œ ì •ë³´ë¥¼ ì°¾ì§€ ëª»í•˜ëŠ” ë¬¸ì œ í•´ê²°.
- **ì£¼ìš” ë³€ê²½ ì‚¬í•­**:
  - **FAISS ì¸ë±ìŠ¤ ì¬êµ¬ì¶•**: ëˆ„ë½ë˜ì—ˆë˜ `travel_index`ë¥¼ ì§€ì‹ ë² ì´ìŠ¤(logistics.md ë“±) ê¸°ë°˜ìœ¼ë¡œ ì¬ìƒì„±.
  - **ê²€ì¦**: "ë¹„í–‰ê¸° ì‹œê°„ ì•Œë ¤ì¤˜" ë“±ì˜ ì¿¼ë¦¬ì— ëŒ€í•´ RAGê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì—¬ `logistics.md`ì˜ ë°ì´í„°ë¥¼ ì •í™•íˆ ì¶”ì¶œí•¨ì„ í™•ì¸.

### ê°œë°œ ë„êµ¬ ë° í™˜ê²½ ê°œì„ 
- **uv ë„ì…**: ê°€ìƒí™˜ê²½ ìƒì„± ë° ì˜ì¡´ì„± ì„¤ì¹˜ ì†ë„ í–¥ìƒì„ ìœ„í•´ `uv` íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ í‘œì¤€ìœ¼ë¡œ ì±„íƒ.
- **ë¬¸ì„œí™” ìµœì‹ í™”**: 
  - `getting_started.md`: `uv` ì„¤ì¹˜ ë° ìµœì‹  í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì•ˆë‚´ ì¶”ê°€.
  - `README.md`: ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ì— Router ë…¸ë“œ ë°˜ì˜ ë° ìµœì‹  ê¸°ëŠ¥ ì—…ë°ì´íŠ¸.
  - `troubleshooting.md`: ì§€ì—° ì‹œê°„ í•´ê²° ê°€ì´ë“œ(`KEEP_ALIVE`) ë° RAG ì¬ì¸ë±ì‹± ë°©ë²• ì¶”ê°€.
- **Git ê´€ë¦¬ ìµœì í™”**: `.gitignore` ìˆ˜ë¦¬ë¥¼ í†µí•´ Flutter í”Œë«í¼ë³„ ìë™ ìƒì„± íŒŒì¼(Registrant ë“±)ì´ í”„ë¡œì íŠ¸ë¥¼ ì˜¤ì—¼ì‹œí‚¤ì§€ ì•Šë„ë¡ ê°œì„ .

### ê°œë°œ ìƒì‚°ì„± ë° ë°ì´í„° ë™ê¸°í™” ê°•í™” (v1.3.3)
- **uv sync ê¸°ë°˜ í™˜ê²½ êµ¬ì¶•**: 
  - `backend/requirements.txt` ì˜ì¡´ì„±ì„ ë£¨íŠ¸ `pyproject.toml`ë¡œ í†µí•©.
  - `uv sync`ë¥¼ í†µí•´ ê°€ìƒí™˜ê²½ ìƒì„± ë° ì˜ì¡´ì„± ì„¤ì¹˜ë¥¼ ë‹¨ì¼ ëª…ë ¹ì–´ë¡œ ìë™í™”í•˜ê³ , `uv.lock`ì„ í†µí•œ ê²°ì •ë¡ ì  ë¹Œë“œ í™˜ê²½ í™•ë³´.
- **RAG ì¸ë±ìŠ¤ ìë™ ë™ê¸°í™”**: 
  - `TravelKnowledgeService`ì— í•´ì‹œ ê¸°ë°˜ ë³€ê²½ ê°ì§€ ë¡œì§ êµ¬í˜„.
  - ë°±ì—”ë“œ ì‹œì‘ ì‹œ(`lifespan`) `backend/knowledge/travel` ë‚´ ë¬¸ì„œ ë³€ê²½ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì—¬ `travel_index`ë¥¼ ì¬ìƒì„±.
  - ë³„ë„ì˜ ì¸ë±ì‹± ëª…ë ¹ì–´ ìˆ˜í–‰ ì—†ì´ë„ í•­ìƒ ìµœì‹  ì§€ì‹ ë² ì´ìŠ¤ê°€ ìœ ì§€ë˜ë„ë¡ ê°œì„ .
- **ë¬¸ì„œí™” ê³ ë„í™”**:
  - `getting_started.md`: `uv sync` ë° `uv run` ê¸°ë°˜ì˜ ê°„ì†Œí™”ëœ ì„¤ì¹˜/ì‹¤í–‰ ê°€ì´ë“œë¡œ ì—…ë°ì´íŠ¸.
  - Flutter ì•± ì‹¤í–‰ ì„¹ì…˜ì„ Windows í™˜ê²½ì— ë§ê²Œ `powershell` ê¸°ë°˜ìœ¼ë¡œ ìˆ˜ì •.

### ì§€ëŠ¥í˜• í”„ë¡œí•„ ê°œí¸ ë° ë§¥ë½ ê°€ì´ë“œ (v1.5.0)
- **ëª©ì **: ì‚¬ìš©ìì˜ ê³ ì • ì •ë³´ì™€ ëŒ€í™” ì¤‘ ì¶”ì¶œëœ ì‚¬ì‹¤ì„ ë¶„ë¦¬í•˜ì—¬ ì—ì´ì „íŠ¸ì˜ ì¸ì§€ ëŠ¥ë ¥ì„ ì •êµí™”í•˜ê³ , ì‹œìŠ¤í…œ ì „ë°˜ì˜ ë§¥ë½ ê´€ë¦¬ ë¡œì§ì„ ë¬¸ì„œí™”.
- **ì£¼ìš” ë³€ê²½ ì‚¬í•­**:
  - **í”„ë¡œí•„ êµ¬ì¡°ì  ë¶„ë¦¬**: `user_profile.json`ì— `user` í•„ë“œ(ì´ë¦„, ì„ í˜¸ ìº˜ë¦°ë” ë“±)ë¥¼ ì‹ ì„¤í•˜ê³ , `facts`ëŠ” ëŒ€í™”ì—ì„œ ì¶”ì¶œëœ ë™ì  ì •ë³´ë§Œ ë‹´ë„ë¡ ì •ì œ.
  - **MemoryService ê³ ë„í™”**: `user` í•„ë“œ ì§€ì›ì„ ìœ„í•œ ì´ˆê¸°í™”, ì •ê·œí™” ë° `update_user_info` ë©”ì„œë“œ ì¶”ê°€.
  - **ì—ì´ì „íŠ¸ ì¸ì§€ ì—”ì§„ ì—…ë°ì´íŠ¸**: Router, Planner, Executor ëª¨ë“  ë…¸ë“œì—ì„œ `user`ì™€ `facts`ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•˜ì—¬ ë©€í‹° ë ˆì´ì–´ ì»¨í…ìŠ¤íŠ¸ë¥¼ LLMì— ì „ë‹¬.
  - **ì‹ ê·œ ë¬¸ì„œ (`ai_context_guide.md`)**: ì—ì´ì „íŠ¸ì˜ 3ë‹¨ê³„ ë§¥ë½ ê´€ë¦¬(ë‹¨ê¸°/ì¤‘ê¸°/ì¥ê¸°) ë° ê°€ë“œë ˆì¼ ë¡œì§ì„ ì§‘ëŒ€ì„±í•œ ê°€ì´ë“œë¼ì¸ ì‘ì„±.
- **ê²€ì¦**: `tests/unit/test_memory_service.py`ì— ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ê³ , ì—ì´ì „íŠ¸ê°€ "ë‚´ ì´ë¦„ì´ ë­ì•¼?" ë˜ëŠ” ìº˜ë¦°ë” ê´€ë ¨ ì§ˆì˜ ì‹œ ì •êµí•´ì§„ í”„ë¡œí•„ ì •ë³´ë¥¼ ì •í™•íˆ í™œìš©í•¨ì„ í™•ì¸.

---

## ê°œë°œ ì˜ˆì •

### íšŒì˜ë¡ ìš”ì•½ ë° ì¼ì • ìë™ ë“±ë¡ ê¸°ëŠ¥ (v1.4.0-meeting-notes)
- **ëª©ì **: íšŒì˜ë¡ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥ë°›ì•„ í•µì‹¬ ë‚´ìš©ì„ ìš”ì•½í•˜ê³ , íšŒì˜ì—ì„œ ì–¸ê¸‰ëœ ì¼ì •/ì—…ë¬´ë¥¼ ìë™ìœ¼ë¡œ ìº˜ë¦°ë”ì— ë“±ë¡í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€.

#### 1. ì‹ ê·œ ë„êµ¬(Tool) ì¶”ê°€: `summarize_meeting_notes`

**íŒŒì¼**: `backend/app/tools/meeting_tools.py` (ì‹ ê·œ ìƒì„±)

**ê¸°ëŠ¥**:
- íšŒì˜ë¡ ì›ë¬¸ì„ ì…ë ¥ë°›ì•„ í•µì‹¬ ë‚´ìš© ìš”ì•½
- íšŒì˜ ì°¸ì„ì, ì£¼ìš” ì•ˆê±´, ê²°ì • ì‚¬í•­, ì•¡ì…˜ ì•„ì´í…œ ì¶”ì¶œ
- ì¼ì •/ì—…ë¬´ ê´€ë ¨ í•­ëª© ê°ì§€ ë° êµ¬ì¡°í™”

**ì…ë ¥ íŒŒë¼ë¯¸í„°**:
```python
class SummarizeMeetingNotesInput(BaseModel):
    meeting_notes: str = Field(description="ìš”ì•½í•  íšŒì˜ë¡ ì›ë¬¸")
    meeting_title: str = Field(default="", description="íšŒì˜ ì œëª© (ì„ íƒ)")
    meeting_date: str = Field(default="", description="íšŒì˜ ë‚ ì§œ (YYYY-MM-DD, ì„ íƒ)")
```

**ì¶œë ¥ í˜•ì‹**:
```python
{
    "summary": "íšŒì˜ë¡ í•µì‹¬ ìš”ì•½ (5-10ì¤„)",
    "participants": ["ì°¸ì„ì1", "ì°¸ì„ì2", ...],
    "key_topics": ["ì£¼ì œ1", "ì£¼ì œ2", ...],
    "decisions": ["ê²°ì •ì‚¬í•­1", "ê²°ì •ì‚¬í•­2", ...],
    "action_items": [
        {
            "task": "ì—…ë¬´ ì„¤ëª…",
            "assignee": "ë‹´ë‹¹ì",
            "due_date": "ë§ˆê°ì¼ (YYYY-MM-DD)",
            "is_calendar_event": true/false,
            "suggested_calendar_title": "ì œì•ˆ ìº˜ë¦°ë” ì œëª©",
            "suggested_start_time": "YYYY-MM-DDTHH:MM:SS",
            "suggested_end_time": "YYYY-MM-DDTHH:MM:SS"
        }
    ]
}
```

**êµ¬í˜„ ë¡œì§**:
1. LLMì— íšŒì˜ë¡ ìš”ì•½ ì „ìš© í”„ë¡¬í”„íŠ¸ ì‚¬ìš©
2. Few-Shot ì˜ˆì‹œë¡œ ì¼ì • ì¶”ì¶œ ì •í™•ë„ í–¥ìƒ
3. ë‚ ì§œ í‘œí˜„ ì •ê·œí™” (ì˜ˆ: "ë‹¤ìŒì£¼ ì›”ìš”ì¼" â†’ êµ¬ì²´ì  ë‚ ì§œ ê³„ì‚°)
4. ì‹œê°„ì´ ëª…ì‹œë˜ì§€ ì•Šì€ ê²½ìš° ê¸°ë³¸ê°’ (09:00-10:00) ì œì•ˆ

#### 2. ëŒ€í™” íë¦„ í†µí•©

**íŒŒì¼**: `backend/app/graph.py`

**Executor Node ìˆ˜ì •**:
- `summarize_meeting_notes` ë„êµ¬ ì‹¤í–‰ ê²°ê³¼ì— `action_items`ì´ ìˆê³  `is_calendar_event=true`ì¸ í•­ëª©ì´ ìˆì„ ê²½ìš°:
  1. ì‘ë‹µì— "ë°œê²¬ëœ ì¼ì • í•­ëª©ì„ ìº˜ë¦°ë”ì— ë“±ë¡í•˜ì‹œê² ìŠµë‹ˆê¹Œ?" ë©”ì‹œì§€ ì¶”ê°€
  2. ë°œê²¬ëœ ì¼ì • ëª©ë¡ì„ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ
  3. Stateì— `pending_calendar_events` í•„ë“œ ì €ì¥

**Router Node ìˆ˜ì •**:
- ì‚¬ìš©ì ì‘ë‹µì´ ê¸ì •ì ("ì˜ˆ", "ë„¤", "í•´ì¤˜", "ë“±ë¡í•´ì¤˜" ë“±)ì¼ ê²½ìš°:
  - `pending_calendar_events`ë¥¼ ìˆœíšŒí•˜ë©° `add_event` ë„êµ¬ í˜¸ì¶œ
  - ê° ì¼ì • ë“±ë¡ ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ í”¼ë“œë°±
- ì‚¬ìš©ì ì‘ë‹µì´ ë¶€ì •ì ("ì•„ë‹ˆ", "í•„ìš”ì—†ì–´" ë“±)ì¼ ê²½ìš°:
  - `pending_calendar_events` ì´ˆê¸°í™”

#### 3. State ìŠ¤í‚¤ë§ˆ í™•ì¥

**íŒŒì¼**: `backend/app/state.py`

**ì¶”ê°€ í•„ë“œ**:
```python
class GraphState(TypedDict):
    # ê¸°ì¡´ í•„ë“œë“¤...
    pending_calendar_events: Optional[List[Dict[str, Any]]]  # ë“±ë¡ ëŒ€ê¸° ì¤‘ì¸ ì¼ì • ëª©ë¡
    last_meeting_summary: Optional[str]  # ë§ˆì§€ë§‰ íšŒì˜ë¡ ìš”ì•½ ê²°ê³¼ (ì°¸ì¡°ìš©)
```

#### 4. í”„ë¡¬í”„íŠ¸ ì‘ì„±

**íŒŒì¼**: `backend/app/prompts/meeting_prompts.py` (ì‹ ê·œ ìƒì„±)

**ë‚´ìš©**:
- íšŒì˜ë¡ ìš”ì•½ì„ ìœ„í•œ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸
- Few-Shot ì˜ˆì‹œ (3-5ê°œ):
  - ì¼ë°˜ íšŒì˜ë¡ â†’ ìš”ì•½
  - ì¼ì • í¬í•¨ íšŒì˜ë¡ â†’ ìš”ì•½ + ì¼ì • ì¶”ì¶œ
  - ë³µì¡í•œ ì—…ë¬´ í¬í•¨ íšŒì˜ë¡ â†’ êµ¬ì¡°í™”ëœ ì•¡ì…˜ ì•„ì´í…œ ì¶”ì¶œ

**í”„ë¡¬í”„íŠ¸ êµ¬ì¡°**:
```
ë‹¹ì‹ ì€ íšŒì˜ë¡ì„ ë¶„ì„í•˜ê³  í•µì‹¬ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

[ì—­í• ]
1. íšŒì˜ë¡ì˜ í•µì‹¬ ë‚´ìš©ì„ ê°„ê²°í•˜ê²Œ ìš”ì•½
2. ì°¸ì„ì, ì£¼ìš” ì•ˆê±´, ê²°ì • ì‚¬í•­ì„ êµ¬ì¡°í™”
3. **ì¤‘ìš”**: íšŒì˜ì—ì„œ ì–¸ê¸‰ëœ ì¼ì •/ì—…ë¬´ë¥¼ ê°ì§€í•˜ê³  ìº˜ë¦°ë” ì´ë²¤íŠ¸ë¡œ ë³€í™˜

[ì¼ì • ê°ì§€ ê¸°ì¤€]
- "~ê¹Œì§€", "ë§ˆê°", "ê¸°í•œ" ë“±ì˜ ì‹œê°„ í‘œí˜„ì´ ìˆëŠ” ì—…ë¬´
- "íšŒì˜", "ë¯¸íŒ…", "ë°œí‘œ", "ë°ëª¨" ë“± ëª…ì‹œì  ì¼ì •
- "ë‹¤ìŒì£¼", "ì›”ìš”ì¼", "1ì›” 15ì¼" ë“± êµ¬ì²´ì  ë‚ ì§œ ì–¸ê¸‰

[ë‚ ì§œ ê³„ì‚°]
- ì˜¤ëŠ˜ ë‚ ì§œ: {current_date}
- "ë‹¤ìŒì£¼ ì›”ìš”ì¼" â†’ êµ¬ì²´ì  ë‚ ì§œë¡œ ë³€í™˜
- "3ì¼ ë’¤" â†’ YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ê³„ì‚°

[ì¶œë ¥ í˜•ì‹]
JSON í˜•ì‹ìœ¼ë¡œ ë°˜ë“œì‹œ ë‹¤ìŒ êµ¬ì¡°ë¥¼ ë”°ë¥¼ ê²ƒ:
{ì¶œë ¥ ìŠ¤í‚¤ë§ˆ}

[ì˜ˆì‹œ]
{Few-Shot ì˜ˆì‹œë“¤}
```

#### 5. ë„êµ¬ ë“±ë¡

**íŒŒì¼**: `backend/app/tools/__init__.py`

**ì¶”ê°€**:
```python
from app.tools.meeting_tools import summarize_meeting_notes

AVAILABLE_TOOLS = [
    # ê¸°ì¡´ ë„êµ¬ë“¤...
    summarize_meeting_notes,
]
```

#### 6. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±

**íŒŒì¼**: `scripts/test_meeting_summary.py` (ì‹ ê·œ ìƒì„±)

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:
1. **ê¸°ë³¸ íšŒì˜ë¡ ìš”ì•½**:
   - ì…ë ¥: ì¼ë°˜ì ì¸ íšŒì˜ë¡ í…ìŠ¤íŠ¸
   - ì˜ˆìƒ ì¶œë ¥: ìš”ì•½, ì°¸ì„ì, ì£¼ìš” ì•ˆê±´, ê²°ì •ì‚¬í•­

2. **ì¼ì • í¬í•¨ íšŒì˜ë¡**:
   - ì…ë ¥: "ë‹¤ìŒì£¼ ì›”ìš”ì¼ ì˜¤í›„ 2ì‹œì— í”„ë¡œì íŠ¸ í‚¥ì˜¤í”„ ë¯¸íŒ…"
   - ì˜ˆìƒ ì¶œë ¥: ì¼ì • ê°ì§€ + ìº˜ë¦°ë” ë“±ë¡ ì œì•ˆ

3. **ë³µìˆ˜ ì¼ì • íšŒì˜ë¡**:
   - ì…ë ¥: ì—¬ëŸ¬ ì¼ì •ê³¼ ì—…ë¬´ê°€ ì„ì¸ íšŒì˜ë¡
   - ì˜ˆìƒ ì¶œë ¥: ëª¨ë“  ì¼ì • ì •í™•íˆ ì¶”ì¶œ + ê°œë³„ ë“±ë¡ ì œì•ˆ

4. **ëŒ€í™” íë¦„ í…ŒìŠ¤íŠ¸**:
   - íšŒì˜ë¡ ìš”ì•½ â†’ ì¼ì • ë“±ë¡ ì œì•ˆ â†’ ì‚¬ìš©ì ìŠ¹ì¸ â†’ ìº˜ë¦°ë” ë“±ë¡ ì™„ë£Œ
   - íšŒì˜ë¡ ìš”ì•½ â†’ ì¼ì • ë“±ë¡ ì œì•ˆ â†’ ì‚¬ìš©ì ê±°ë¶€ â†’ ì¢…ë£Œ

#### 7. UI/UX ê³ ë ¤ì‚¬í•­

**ì‘ë‹µ ë©”ì‹œì§€ ì˜ˆì‹œ**:
```
ğŸ“‹ **íšŒì˜ë¡ ìš”ì•½ ì™„ë£Œ**

**í•µì‹¬ ìš”ì•½**:
{summary}

**ì£¼ìš” ê²°ì •ì‚¬í•­**:
- {decision1}
- {decision2}

**ì•¡ì…˜ ì•„ì´í…œ**:
âœ… {action_item1}
âœ… {action_item2}

---

ğŸ“… **ë°œê²¬ëœ ì¼ì • ({count}ê°œ)**:
1. {event_title} - {date} {time}
2. {event_title2} - {date2} {time2}

ì´ ì¼ì •ë“¤ì„ ìº˜ë¦°ë”ì— ë“±ë¡í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
```

#### 8. ì—ëŸ¬ í•¸ë“¤ë§

**ê³ ë ¤ì‚¬í•­**:
- íšŒì˜ë¡ì´ ë„ˆë¬´ ê¸¸ ê²½ìš° (>10000ì): ì²­í¬ ë¶„í•  ë˜ëŠ” ìš”ì•½ ì „ì²˜ë¦¬
- ë‚ ì§œ í‘œí˜„ì´ ëª¨í˜¸í•œ ê²½ìš°: ì‚¬ìš©ìì—ê²Œ í™•ì¸ ìš”ì²­
- ìº˜ë¦°ë” ë“±ë¡ ì‹¤íŒ¨ ì‹œ: ê°œë³„ ì¼ì •ë³„ ì„±ê³µ/ì‹¤íŒ¨ í”¼ë“œë°±
- LLM ì‘ë‹µì—ì„œ ì¼ì • ì¶”ì¶œ ì‹¤íŒ¨: ì¼ì • ì—†ì´ ìš”ì•½ë§Œ ë°˜í™˜

#### 9. ê°œì„  ë°©í–¥ (í–¥í›„)

- [ ] íšŒì˜ë¡ ì²¨ë¶€íŒŒì¼ ì§€ì› (PDF, DOCX íŒŒì‹±)
- [ ] ìŒì„± íšŒì˜ë¡ ìë™ ì „ì‚¬ (STT) ì—°ë™
- [ ] ìº˜ë¦°ë” ì´ì™¸ ì—…ë¬´ ê´€ë¦¬ ì‹œìŠ¤í…œ (Notion, Jira) ì—°ë™
- [ ] íšŒì˜ë¡ ìš”ì•½ íˆìŠ¤í† ë¦¬ ì €ì¥ ë° ê²€ìƒ‰ ê¸°ëŠ¥
- [ ] ì •ê¸° íšŒì˜ íŒ¨í„´ í•™ìŠµ ë° ìë™ ì¼ì • ì œì•ˆ

#### 10. êµ¬í˜„ ìˆœì„œ

1. **Phase 1**: ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶•
   - [ ] `meeting_tools.py` ìƒì„±
   - [ ] `meeting_prompts.py` ì‘ì„±
   - [ ] State ìŠ¤í‚¤ë§ˆ í™•ì¥

2. **Phase 2**: í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„
   - [ ] `summarize_meeting_notes` ë„êµ¬ êµ¬í˜„
   - [ ] Few-Shot í”„ë¡¬í”„íŠ¸ ì‘ì„± ë° íŠœë‹
   - [ ] ë‚ ì§œ ê³„ì‚° ë¡œì§ êµ¬í˜„ (ìƒëŒ€ì  ë‚ ì§œ â†’ ì ˆëŒ€ ë‚ ì§œ)

3. **Phase 3**: ëŒ€í™” íë¦„ í†µí•©
   - [ ] Executor Node ìˆ˜ì • (ì¼ì • ê°ì§€ ì‹œ ì‚¬ìš©ì í™•ì¸ ìš”ì²­)
   - [ ] Router Node ìˆ˜ì • (ì‚¬ìš©ì ì‘ë‹µ ì²˜ë¦¬ ë° ìº˜ë¦°ë” ë“±ë¡)
   - [ ] State ì—…ë°ì´íŠ¸ ë¡œì§ êµ¬í˜„

4. **Phase 4**: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
   - [ ] `test_meeting_summary.py` ì‘ì„±
   - [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (ë„êµ¬ ë‹¨ë…)
   - [ ] í†µí•© í…ŒìŠ¤íŠ¸ (ì „ì²´ ëŒ€í™” íë¦„)
   - [ ] ì—£ì§€ ì¼€ì´ìŠ¤ ê²€ì¦

5. **Phase 5**: UX ê°œì„ 
   - [ ] ì‘ë‹µ ë©”ì‹œì§€ í¬ë§·íŒ… ê°œì„ 
   - [ ] ì—ëŸ¬ ë©”ì‹œì§€ í•œêµ­ì–´ ì¹œí™”ì  ì‘ì„±
   - [ ] í”„ë¡ íŠ¸ì—”ë“œ UI ì—°ë™ (ì„ íƒ)

#### ê²€ì¦ ê¸°ì¤€

- âœ… ì¼ë°˜ íšŒì˜ë¡ ìš”ì•½ ì •í™•ë„ 90% ì´ìƒ
- âœ… ì¼ì • í‘œí˜„ ê°ì§€ìœ¨ 95% ì´ìƒ
- âœ… ë‚ ì§œ ê³„ì‚° ì •í™•ë„ 100%
- âœ… ìº˜ë¦°ë” ë“±ë¡ ì„±ê³µë¥  95% ì´ìƒ
- âœ… ì „ì²´ ëŒ€í™” íë¦„ ì¤‘ë‹¨ ì—†ì´ ì™„ë£Œ

---

### ëŒ€í™” íˆìŠ¤í† ë¦¬ ìš”ì•½ ë° ìë™ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ (v1.5.0-smart-memory)
- **ëª©ì **: ì €ì¥ëœ ëŒ€í™” ì„¸ì…˜ì„ ë¶„ì„í•˜ì—¬ ìš”ì•½ ì œê³µ ë° ì‚¬ìš©ì í”„ë¡œí•„ì„ ìë™ìœ¼ë¡œ ì§€ì† ì—…ë°ì´íŠ¸í•˜ì—¬ ê°œì¸í™”ëœ ì»¨í…ìŠ¤íŠ¸ ìœ ì§€.

#### 1. ì‹ ê·œ ë„êµ¬(Tool) ì¶”ê°€: `summarize_past_conversations`

**íŒŒì¼**: `backend/app/tools/memory_tools.py` (ê¸°ì¡´ íŒŒì¼ í™•ì¥)

**ê¸°ëŠ¥**:
- íŠ¹ì • ë‚ ì§œ ë˜ëŠ” ê¸°ê°„ì˜ ëŒ€í™” ì„¸ì…˜ ì¡°íšŒ ë° ìš”ì•½
- ì—¬ëŸ¬ ëŒ€í™”ë¥¼ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê·¸ë£¹í™”í•˜ì—¬ í•µì‹¬ ë‚´ìš© ì¶”ì¶œ
- ì‚¬ìš©ìê°€ ì–¸ê¸‰í–ˆë˜ ì¤‘ìš” ì£¼ì œ ë° ì•¡ì…˜ ì•„ì´í…œ ì¬í™•ì¸

**ì…ë ¥ íŒŒë¼ë¯¸í„°**:
```python
class SummarizePastConversationsInput(BaseModel):
    date: str = Field(default="", description="ìš”ì•½í•  ëŒ€í™” ë‚ ì§œ (YYYY-MM-DD). ë¹„ì–´ìˆìœ¼ë©´ ìµœê·¼ 3ì¼")
    start_date: str = Field(default="", description="ì‹œì‘ ë‚ ì§œ (YYYY-MM-DD)")
    end_date: str = Field(default="", description="ì¢…ë£Œ ë‚ ì§œ (YYYY-MM-DD)")
    category_filter: str = Field(default="", description="íŠ¹ì • ì¹´í…Œê³ ë¦¬ë§Œ í•„í„°ë§ (ì˜ˆ: 'Work', 'Health')")
    max_sessions: int = Field(default=10, description="ë¶„ì„í•  ìµœëŒ€ ì„¸ì…˜ ìˆ˜")
```

**ì¶œë ¥ í˜•ì‹**:
```python
{
    "total_sessions": 15,
    "analyzed_sessions": 10,
    "date_range": "2026-01-05 ~ 2026-01-07",
    "summaries_by_category": {
        "Work": [
            {
                "thread_id": "abc-123",
                "date": "2026-01-07",
                "summary": "ìº˜ë¦°ë” ì¼ì • ë“±ë¡ ë° íšŒì˜ë¡ ìš”ì•½ ê¸°ëŠ¥ ë…¼ì˜",
                "key_topics": ["ì¼ì • ê´€ë¦¬", "íšŒì˜ë¡", "ìë™í™”"]
            }
        ],
        "General": [...]
    },
    "overall_summary": "ì§€ë‚œ 3ì¼ê°„ ì£¼ë¡œ ì—…ë¬´ ìë™í™”ì™€ ì¼ì • ê´€ë¦¬ì— ì§‘ì¤‘í–ˆìœ¼ë©°...",
    "recurring_topics": ["ì¼ì • ê´€ë¦¬", "ìë™í™”", "LLM ëª¨ë¸ ìµœì í™”"],
    "action_items_completed": ["Executor ë…¸ë“œ ìˆ˜ì •", "ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ "],
    "action_items_pending": ["íšŒì˜ë¡ ìš”ì•½ ê¸°ëŠ¥ êµ¬í˜„"]
}
```

**êµ¬í˜„ ë¡œì§**:
1. `MemoryService.list_all_dates()` ë° `list_sessions_by_date()` ì‚¬ìš©í•˜ì—¬ ì„¸ì…˜ ëª©ë¡ ìˆ˜ì§‘
2. ê° ì„¸ì…˜ JSON íŒŒì¼ ë¡œë“œ (`load_session()`)
3. ì´ë¯¸ `user_profile.json`ì˜ `history`ì— ì €ì¥ëœ ìš”ì•½ í™œìš© (ì¤‘ë³µ ë¶„ì„ ë°©ì§€)
4. ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë£¹í™” ë° ì „ì²´ ìš”ì•½ ìƒì„±
5. ë°˜ë³µ ë“±ì¥í•˜ëŠ” ì£¼ì œ ë° ë¯¸ì™„ë£Œ ì•¡ì…˜ ì•„ì´í…œ ì¶”ì¶œ

#### 2. ìë™ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ê°•í™”

**í˜„ì¬ ìƒíƒœ**:
- `MemoryAnalyzer.analyze_and_update()`ê°€ ëŒ€í™” ì¢…ë£Œ í›„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰
- ì‚¬ìš©ì facts, category, summaryë¥¼ `user_profile.json`ì— ì €ì¥

**ê°œì„  ì‚¬í•­**:

**íŒŒì¼**: `backend/app/services/memory.py`

**2-1. ì‹¤ì‹œê°„ ë¶„ì„ íŠ¸ë¦¬ê±° ê°œì„ **:
- í˜„ì¬: ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ìœ¼ë¡œ ë¹„ë™ê¸° ì‹¤í–‰
- ê°œì„ : 
  - ëŒ€í™”ê°€ ì¼ì • ê¸¸ì´ ì´ìƒ(ì˜ˆ: 10í„´ ì´ìƒ)ì¼ ë•Œë§Œ ë¶„ì„ ì‹¤í–‰
  - ì§§ì€ ëŒ€í™”(1-2í„´)ëŠ” ìŠ¤í‚µí•˜ì—¬ ë¶ˆí•„ìš”í•œ LLM í˜¸ì¶œ ë°©ì§€
  - ëŒ€í™” ì¤‘ê°„ì—ë„ ì£¼ê¸°ì  ë¶„ì„ (ì˜ˆ: 20í„´ë§ˆë‹¤) í•˜ì—¬ ê¸´ ëŒ€í™”ì—ì„œë„ ì •ë³´ ì†ì‹¤ ë°©ì§€

**2-2. í”„ë¡¬í”„íŠ¸ ê°œì„  (`MemoryAnalyzer`)**:
```python
# í˜„ì¬ í”„ë¡¬í”„íŠ¸ ê°œì„ 
prompt = f"""ë‹¹ì‹ ì€ ì‚¬ìš©ì í”„ë¡œí•„ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

[í˜„ì¬ ì‚¬ìš©ì í”„ë¡œí•„]
{json.dumps(current_profile, ensure_ascii=False, indent=2)}

[ìƒˆë¡œìš´ ëŒ€í™” ë‚´ìš©]
{history}

[ì‘ì—…]
1. **ì‹ ê·œ facts ì¶”ì¶œ**: ê¸°ì¡´ í”„ë¡œí•„ì— ì—†ëŠ” ìƒˆë¡œìš´ ì‚¬ì‹¤/ì„ í˜¸ë„ë§Œ ì¶”ì¶œ
   - ê¸°ì¡´ factsì™€ ì¤‘ë³µë˜ëŠ” ë‚´ìš©ì€ ì œì™¸
   - êµ¬ì²´ì ì´ê³  ê²€ì¦ ê°€ëŠ¥í•œ ì •ë³´ë§Œ í¬í•¨
   - ì—¬í–‰ ì •ë³´ëŠ” travel_info ë„êµ¬ë¥¼ ì‚¬ìš©í•œ ê²½ìš°ì—ë§Œ í—ˆìš©

2. **ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜**: Work, Personal, Health, Learning, General ì¤‘ ì„ íƒ

3. **ëŒ€í™” ìš”ì•½**: í•µì‹¬ ë‚´ìš©ì„ 1-2ì¤„ë¡œ ê°„ê²°í•˜ê²Œ ìš”ì•½

4. **íŒ¨í„´ ê°ì§€**: ì‚¬ìš©ìì˜ ë°˜ë³µì ì¸ í–‰ë™ íŒ¨í„´ì´ë‚˜ ìŠµê´€ ë°œê²¬
   - ì˜ˆ: "ë§¤ì£¼ ì›”ìš”ì¼ íŒ€ ë¯¸íŒ…", "ì €ë… ìš´ë™ ì„ í˜¸"

[ì¶œë ¥ í˜•ì‹]
{{
  "facts": {{"key": "value"}},
  "patterns": ["pattern1", "pattern2"],
  "category": "Work",
  "summary": "ìš”ì•½ ë‚´ìš©"
}}

ì¤‘ìš”: ë¶ˆí™•ì‹¤í•˜ê±°ë‚˜ ì¶”ì¸¡ì„± ì •ë³´ëŠ” í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.
"""
```

**2-3. ì¤‘ë³µ ì œê±° ë¡œì§**:
```python
def update_user_profile(self, new_facts: Dict[str, Any]):
    """Updates profile with deduplication."""
    profile = self._normalize_profile(self.get_user_profile())
    
    # ê¸°ì¡´ factsì™€ ë¹„êµí•˜ì—¬ ì¤‘ë³µ/ì¶©ëŒ ì²˜ë¦¬
    for key, new_value in new_facts.items():
        if key in profile["facts"]:
            old_value = profile["facts"][key]
            # ê°’ì´ ë‹¤ë¥´ë©´ ìƒˆ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ (ìµœì‹  ì •ë³´ ìš°ì„ )
            if old_value != new_value:
                logger.info(f"Updating fact '{key}': {old_value} -> {new_value}")
        profile["facts"][key] = new_value
    
    self._save_profile(profile)
```

**2-4. Patterns ìë™ ê°ì§€ ì¶”ê°€**:
```python
def add_user_patterns(self, patterns: List[str]):
    """Adds multiple patterns with deduplication."""
    if not patterns:
        return
    profile = self._normalize_profile(self.get_user_profile())
    
    for pattern in patterns:
        if pattern and pattern not in profile["patterns"]:
            profile["patterns"].append(pattern)
    
    # ìµœëŒ€ 50ê°œ íŒ¨í„´ ìœ ì§€ (ì˜¤ë˜ëœ ê²ƒ ì œê±°)
    profile["patterns"] = profile["patterns"][-50:]
    self._save_profile(profile)
```

#### 3. ëŒ€í™” íë¦„ í†µí•©

**íŒŒì¼**: `backend/app/agent/graph.py`

**3-1. `summarize_past_conversations` ë„êµ¬ í˜¸ì¶œ ì‹œ**:
- ì‚¬ìš©ìê°€ "ì§€ë‚œì£¼ì— ìš°ë¦¬ ë¬´ìŠ¨ ëŒ€í™”í–ˆì§€?", "ìµœê·¼ ëŒ€í™” ìš”ì•½í•´ì¤˜" ë“± ìš”ì²­ ì‹œ ìë™ í˜¸ì¶œ
- Routerê°€ memory ê´€ë ¨ ì¿¼ë¦¬ë¡œ ë¶„ë¥˜

**3-2. ìë™ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì‹œì **:
1. **ëŒ€í™” ì¢…ë£Œ ì‹œ** (í˜„ì¬ êµ¬í˜„ë¨): `memory_analyzer.analyze_and_update()` í˜¸ì¶œ
2. **ì£¼ê¸°ì  ì²´í¬í¬ì¸íŠ¸**: ëŒ€í™”ê°€ 20í„´ ì´ìƒ ì§€ì†ë  ê²½ìš° ì¤‘ê°„ ë¶„ì„
3. **ëª…ì‹œì  ìš”ì²­**: ì‚¬ìš©ìê°€ "ë‚´ ì •ë³´ ì—…ë°ì´íŠ¸í•´ì¤˜" ìš”ì²­ ì‹œ

#### 4. State ìŠ¤í‚¤ë§ˆ í™•ì¥

**íŒŒì¼**: `backend/app/state.py`

**ì¶”ê°€ í•„ë“œ**:
```python
class GraphState(TypedDict):
    # ê¸°ì¡´ í•„ë“œë“¤...
    conversation_turn_count: int  # í˜„ì¬ ëŒ€í™” í„´ ìˆ˜ (ì£¼ê¸°ì  ë¶„ì„ìš©)
    last_profile_update: Optional[str]  # ë§ˆì§€ë§‰ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì‹œê° (ISO format)
```

#### 5. ì‹ ê·œ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

**íŒŒì¼**: `backend/app/main.py`

**GET `/api/conversations/summary`**:
```python
@app.get("/api/conversations/summary")
async def get_conversation_summary(
    date: Optional[str] = None,
    start_date: Optional[str] = None,
    end_date: Optional[str] = None,
    category: Optional[str] = None
):
    """Returns summary of past conversations."""
    # summarize_past_conversations ë„êµ¬ ë¡œì§ ì§ì ‘ í˜¸ì¶œ
    # ë˜ëŠ” ì„ì‹œ State ìƒì„±í•˜ì—¬ ë„êµ¬ ì‹¤í–‰
    pass
```

**GET `/api/profile`**:
```python
@app.get("/api/profile")
async def get_user_profile():
    """Returns current user profile."""
    from app.services.memory import memory_service
    return memory_service.get_user_profile()
```

**POST `/api/profile/analyze`**:
```python
@app.post("/api/profile/analyze")
async def trigger_profile_analysis(thread_id: str):
    """Manually trigger profile analysis for specific conversation."""
    # íŠ¹ì • ì„¸ì…˜ ë¡œë“œ ë° ë¶„ì„
    pass
```

#### 6. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

**íŒŒì¼**: `scripts/test_memory_features.py` (ì‹ ê·œ ìƒì„±)

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:

1. **ê³¼ê±° ëŒ€í™” ìš”ì•½ í…ŒìŠ¤íŠ¸**:
   - ì…ë ¥: "ì§€ë‚œ 3ì¼ê°„ ëŒ€í™” ìš”ì•½í•´ì¤˜"
   - ì˜ˆìƒ: `summarize_past_conversations` í˜¸ì¶œ â†’ ì¹´í…Œê³ ë¦¬ë³„ ìš”ì•½ ë°˜í™˜

2. **ìë™ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸**:
   - ì‹œë‚˜ë¦¬ì˜¤: 5í„´ ëŒ€í™” ì§„í–‰ â†’ ì‚¬ìš©ì ì„ í˜¸ë„ ì–¸ê¸‰ â†’ ëŒ€í™” ì¢…ë£Œ
   - ê²€ì¦: `user_profile.json`ì— ìƒˆë¡œìš´ facts ì¶”ê°€ë¨
   - ê²€ì¦: `history`ì— ëŒ€í™” ìš”ì•½ ì¶”ê°€ë¨

3. **ì¤‘ë³µ ì œê±° í…ŒìŠ¤íŠ¸**:
   - ì‹œë‚˜ë¦¬ì˜¤: ê°™ì€ ì •ë³´ë¥¼ ì—¬ëŸ¬ ëŒ€í™”ì—ì„œ ë°˜ë³µ ì–¸ê¸‰
   - ê²€ì¦: í”„ë¡œí•„ì— ì¤‘ë³µ factsê°€ ì—†ê³  ìµœì‹  ê°’ë§Œ ìœ ì§€

4. **íŒ¨í„´ ê°ì§€ í…ŒìŠ¤íŠ¸**:
   - ì‹œë‚˜ë¦¬ì˜¤: 3ì¼ ì—°ì† "ë§¤ì¼ ì•„ì¹¨ 9ì‹œ ìš´ë™" ì–¸ê¸‰
   - ì˜ˆìƒ: `patterns`ì— "ë§¤ì¼ ì•„ì¹¨ ìš´ë™ ë£¨í‹´" ì¶”ê°€

5. **ê¸´ ëŒ€í™” ì£¼ê¸°ì  ë¶„ì„**:
   - ì‹œë‚˜ë¦¬ì˜¤: 30í„´ ì´ìƒ ëŒ€í™” ì§„í–‰
   - ê²€ì¦: 10í„´, 20í„´, 30í„´ ì‹œì ì— ê°ê° í”„ë¡œí•„ ì—…ë°ì´íŠ¸

#### 7. UI/UX ê³ ë ¤ì‚¬í•­

**ëŒ€í™” ìš”ì•½ ì‘ë‹µ ì˜ˆì‹œ**:
```
ğŸ“… **ì§€ë‚œ ëŒ€í™” ìš”ì•½ (2026-01-05 ~ 2026-01-07)**

ì´ 15ê°œ ëŒ€í™” ì¤‘ 10ê°œ ë¶„ì„ ì™„ë£Œ

**ğŸ’¼ ì—…ë¬´ (5ê±´)**:
- [1/7] ìº˜ë¦°ë” ì¼ì • ë“±ë¡ ë° íšŒì˜ë¡ ìš”ì•½ ê¸°ëŠ¥ ë…¼ì˜
- [1/6] Executor ë…¸ë“œ ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ 
- [1/5] LLM ëª¨ë¸ ìµœì í™” ë° í”„ë¡¬í”„íŠ¸ íŠœë‹

**ğŸ§‘ ê°œì¸ (3ê±´)**:
- [1/7] ìš´ë™ ë£¨í‹´ ë° ê±´ê°• ê´€ë¦¬
- [1/6] ë…ì„œ ëª©ë¡ ì •ë¦¬

**ğŸ“Š ì „ì²´ ìš”ì•½**:
ì§€ë‚œ 3ì¼ê°„ ì£¼ë¡œ AI Assistant ë°±ì—”ë“œ ê°œì„ ì— ì§‘ì¤‘í–ˆìœ¼ë©°, íŠ¹íˆ ì—ëŸ¬ í•¸ë“¤ë§ê³¼ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€(íšŒì˜ë¡ ìš”ì•½)ì— ì‹œê°„ì„ í• ì• í–ˆìŠµë‹ˆë‹¤. ê°œì¸ì ìœ¼ë¡œëŠ” ê±´ê°• ê´€ë¦¬ì— ê´€ì‹¬ì„ ë³´ì˜€ìŠµë‹ˆë‹¤.

**ğŸ”„ ë°˜ë³µ ì£¼ì œ**: ì¼ì • ê´€ë¦¬, ìë™í™”, ëª¨ë¸ ìµœì í™”
**âœ… ì™„ë£Œëœ ì•¡ì…˜**: Executor ìˆ˜ì •, ì—ëŸ¬ ë©”ì‹œì§€ ê°œì„ 
**â³ ì§„í–‰ ì¤‘**: íšŒì˜ë¡ ìš”ì•½ ê¸°ëŠ¥ êµ¬í˜„
```

**í”„ë¡œí•„ ìë™ ì—…ë°ì´íŠ¸ ì•Œë¦¼**:
```
âœ¨ í”„ë¡œí•„ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤!

ìƒˆë¡œ í•™ìŠµí•œ ì •ë³´:
- ì„ í˜¸ ìš´ë™ ì‹œê°„: ì•„ì¹¨ 9ì‹œ
- ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìº˜ë¦°ë”: "ì—…ë¬´ ì¼ì •"
- íšŒì˜ë¡ ìš”ì•½ ê¸°ëŠ¥ì— ê´€ì‹¬

ì´ ì •ë³´ëŠ” ë‹¤ìŒ ëŒ€í™”ì—ì„œ ë” ë§ì¶¤í˜• ì‘ë‹µì„ ì œê³µí•˜ëŠ” ë° í™œìš©ë©ë‹ˆë‹¤.
```

#### 8. ì—ëŸ¬ í•¸ë“¤ë§

**ê³ ë ¤ì‚¬í•­**:
- ì„¸ì…˜ íŒŒì¼ ì†ìƒ/ëˆ„ë½: í•´ë‹¹ ì„¸ì…˜ ìŠ¤í‚µ ë° ë¡œê·¸ ê¸°ë¡
- í”„ë¡œí•„ ì €ì¥ ì‹¤íŒ¨: ì¬ì‹œë„ ë¡œì§ (ìµœëŒ€ 3íšŒ)
- LLM ë¶„ì„ ì‹¤íŒ¨: ìš”ì•½ ì—†ì´ ê¸°ë³¸ ë©”íƒ€ë°ì´í„°ë§Œ ì €ì¥
- ë„ˆë¬´ ë§ì€ ì„¸ì…˜ ë¶„ì„ ìš”ì²­: ìµœëŒ€ 50ê°œë¡œ ì œí•œ, ë‚˜ë¨¸ì§€ëŠ” ìƒ˜í”Œë§

#### 9. í”„ë¼ì´ë²„ì‹œ ë° ë°ì´í„° ê´€ë¦¬

**9-1. ë°ì´í„° ë³´ì¡´ ì •ì±…**:
```python
# backend/app/services/memory.py
def cleanup_old_sessions(self, days_to_keep: int = 90):
    """Deletes session files older than specified days."""
    cutoff_date = datetime.now() - timedelta(days=days_to_keep)
    
    for date_str in self.list_all_dates():
        session_date = datetime.strptime(date_str, "%Y-%m-%d")
        if session_date < cutoff_date:
            daily_dir = os.path.join(SESSIONS_DIR, date_str)
            shutil.rmtree(daily_dir)
            logger.info(f"Deleted old sessions: {date_str}")
```

**9-2. í”„ë¡œí•„ ë¦¬ì…‹ ê¸°ëŠ¥**:
```python
def reset_user_profile(self):
    """Resets user profile to default state."""
    default_profile = {"patterns": [], "facts": {}, "history": []}
    self._save_profile(default_profile)
    logger.info("User profile has been reset.")
```

**9-3. ë¯¼ê° ì •ë³´ í•„í„°ë§**:
- LLM ë¶„ì„ ì‹œ ë¯¼ê° ì •ë³´(ë¹„ë°€ë²ˆí˜¸, ê³„ì¢Œë²ˆí˜¸ ë“±) ìë™ ê°ì§€ ë° ì œì™¸
- ì •ê·œì‹ íŒ¨í„´ìœ¼ë¡œ í•„í„°ë§: ì´ë©”ì¼, ì „í™”ë²ˆí˜¸, ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ë“±

#### 10. êµ¬í˜„ ìˆœì„œ

1. **Phase 1**: ê¸°ë°˜ ì¸í”„ë¼ ê°•í™”
   - [ ] `MemoryService`ì— ë‚ ì§œ ë²”ìœ„ ì¡°íšŒ ë©”ì„œë“œ ì¶”ê°€
   - [ ] `summarize_past_conversations` ë„êµ¬ êµ¬í˜„
   - [ ] State ìŠ¤í‚¤ë§ˆ í™•ì¥

2. **Phase 2**: ìë™ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ê°œì„ 
   - [ ] `MemoryAnalyzer` í”„ë¡¬í”„íŠ¸ ê°œì„  (ì¤‘ë³µ ì œê±°, íŒ¨í„´ ê°ì§€)
   - [ ] í˜„ì¬ í”„ë¡œí•„ ì»¨í…ìŠ¤íŠ¸ ì£¼ì…
   - [ ] íŒ¨í„´ ìë™ ê°ì§€ ë¡œì§ êµ¬í˜„
   - [ ] ëŒ€í™” í„´ ì¹´ìš´íŠ¸ ì¶”ì  ë° ì£¼ê¸°ì  ë¶„ì„

3. **Phase 3**: API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
   - [ ] `/api/conversations/summary` êµ¬í˜„
   - [ ] `/api/profile` êµ¬í˜„
   - [ ] `/api/profile/analyze` êµ¬í˜„

4. **Phase 4**: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
   - [ ] `test_memory_features.py` ì‘ì„±
   - [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (ê° ë„êµ¬ ë° ë©”ì„œë“œ)
   - [ ] í†µí•© í…ŒìŠ¤íŠ¸ (ì „ì²´ íë¦„)
   - [ ] ì¤‘ë³µ ì œê±° ê²€ì¦
   - [ ] ê¸´ ëŒ€í™” ì£¼ê¸°ì  ë¶„ì„ ê²€ì¦

5. **Phase 5**: í”„ë¼ì´ë²„ì‹œ ë° ìš´ì˜
   - [ ] ë¯¼ê° ì •ë³´ í•„í„°ë§ êµ¬í˜„
   - [ ] ë°ì´í„° ë³´ì¡´ ì •ì±… êµ¬í˜„
   - [ ] í”„ë¡œí•„ ë¦¬ì…‹ ê¸°ëŠ¥ êµ¬í˜„
   - [ ] ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ ê°•í™”

#### 11. ì„±ëŠ¥ ìµœì í™”

**11-1. ìºì‹± ì „ëµ**:
- ìš”ì•½ëœ ì„¸ì…˜ì€ ë©”ëª¨ë¦¬ì— ìºì‹± (ì¬ìš”ì•½ ë°©ì§€)
- `user_profile.json`ì€ ë©”ëª¨ë¦¬ì— ë¡œë“œ ìœ ì§€ (ì½ê¸° ìµœì í™”)

**11-2. ë°°ì¹˜ ì²˜ë¦¬**:
- ì—¬ëŸ¬ ì„¸ì…˜ ë¶„ì„ ì‹œ ë°°ì¹˜ LLM í˜¸ì¶œ (í•œ ë²ˆì— ì—¬ëŸ¬ ëŒ€í™” ë¶„ì„)
- ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ì‘ë‹µ ì†ë„ ê°œì„ 

**11-3. ì¸ë±ì‹±**:
```python
# ë¹ ë¥¸ ê²€ìƒ‰ì„ ìœ„í•œ ì¸ë±ìŠ¤ íŒŒì¼ ìƒì„±
# backend/data/sessions/index.json
{
    "2026-01-07": {
        "sessions": ["abc-123", "def-456"],
        "categories": {"Work": 2, "General": 1},
        "total_messages": 150
    }
}
```

#### ê²€ì¦ ê¸°ì¤€

- âœ… ê³¼ê±° ëŒ€í™” ìš”ì•½ ì •í™•ë„ 85% ì´ìƒ
- âœ… í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì¤‘ë³µë¥  5% ì´í•˜
- âœ… íŒ¨í„´ ê°ì§€ìœ¨ 70% ì´ìƒ (3íšŒ ì´ìƒ ë°˜ë³µ ì‹œ)
- âœ… ë¶„ì„ ì‘ë‹µ ì‹œê°„ 5ì´ˆ ì´ë‚´ (10ê°œ ì„¸ì…˜ ê¸°ì¤€)
- âœ… ë¯¼ê° ì •ë³´ í•„í„°ë§ 100%
- âœ… ê¸´ ëŒ€í™”(30í„´+)ì—ì„œ ì •ë³´ ì†ì‹¤ 10% ì´í•˜

#### 12. í–¥í›„ ê°œì„  ë°©í–¥

- [ ] ë²¡í„° DB ì—°ë™ìœ¼ë¡œ ì‹œë§¨í‹± ê²€ìƒ‰ ì§€ì› ("ì—¬í–‰ ê´€ë ¨ ëŒ€í™” ì°¾ì•„ì¤˜")
- [ ] ëŒ€í™” ìš”ì•½ì„ ì‹œê°í™” (íƒ€ì„ë¼ì¸, ì›Œë“œí´ë¼ìš°ë“œ)
- [ ] í”„ë¡œí•„ ê¸°ë°˜ proactive ì œì•ˆ ("í‰ì†Œ ì´ ì‹œê°„ì— ìš´ë™í•˜ì…¨ëŠ”ë°, ì˜¤ëŠ˜ì€ ì–´ë– ì‹ ê°€ìš”?")
- [ ] ë‹¤ì¤‘ ì‚¬ìš©ì ì§€ì› (user_id ë³„ í”„ë¡œí•„ ê´€ë¦¬)
- [ ] í”„ë¡œí•„ export/import ê¸°ëŠ¥ (JSON, CSV)
